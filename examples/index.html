<!DOCTYPE html>
<html>
<head>
<style>
.classy {
  color: lime;
}
.notty {
  color: red;
}
</style>

<script type="text/javascript" src="../src/treetests.js"></script>
<script type="text/javascript" src="../src/app.js"></script>
<script type="text/javascript" src="../src/templater.js"></script>
<script type="text/javascript" src="../src/dom_ele.js"></script>
<script type="text/javascript" src="../src/view.js"></script>
<script type="text/javascript">
window.addEventListener('load', function () {
temp_ele = document.getElementById('tt-category-controller');
out_ele = document.getElementById('wowee');

app = treetests.app();

app.add_template('cat-template', 'tt-category-controller');

test_tdata = {
  name: 'hoooeee wowzers',
  cat_passed: 22,
  cat_count: 22,
  children: []
};
app.add_controller('cat-cont', function (test_data, template) {
  this.cont_class = (test_data.cat_passed === test_data.cat_count && 'classy') || 'notty';
  this.children_cont_class = 'lil-classy';
});

app.inject('cat-template', test_tdata, out_ele);
});
</script>
</head>
<body>
<div id="tt-templates" style="display: none;">
  <div id="tt-category-controller" data-tt-controller="cat-cont" data-tt-class="controller.cont_class">
    <div class="my_cat_title" data-tt-text="test_data.name"></div>
    <div class="my_cat_result">
      <span data-tt-text="test_data.cat_passed"></span> / <span data-tt-text="test_data.cat_count"></span>
      <div class="my_cat_children" data-tt-repeat="child in test_data.children" data-tt-class="controller.children_cont_class">
        <tt-category data-tt-skip="test_data.type === 'category'"></tt-category>
        <tt-test data-tt-skip="test_data.type === 'test'"></tt-category>
      </div>
    </div>
  </div>
</div>
<div id="wowee">
</div>
</body>
</html>
